<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Model.MemberDAO">
	<insert id="joinService" parameterType="Model.MemberVO">
		insert into user_info
		values(#{id},
		#{o_num},
		#{pw},
		#{name},
		#{tel},
		#{email},
		#{birth},
		#{gender},
		u_num_seq.nextval)
	</insert>

	<select id="loginService" parameterType="Model.MemberVO"
		resultType="Model.MemberVO">
		select * from user_info
		where id =#{id} and pw =#{pw}
	</select>


	<select id="selectCafe" resultType="Model.CafeVO">
		select u.o_num, c.location, c.picture, c.review, c.type, c.store, c.time, c.c_tel
		from cafe_info c, user_info u
		where c.o_num = u.o_num
		and u.o_num = #{o_num}
	</select>

	<select id="selectBoard" resultType="Model.BoardVO">
		select * from BOARD
		where o_num = #{o_num}
	</select>

	<insert id="writeBoard">
		insert into board
		values (board_num_seq.nextval,
		#{b_title},
		sysdate,
		#{b_cont},
		#{b_file},
		#{o_num}
		)
	</insert>

	<select id="viewBoard" resultType="Model.BoardVO">
		select * from BOARD
		where b_num= #{b_num}
		and o_num = #{o_num}
	</select>
	
	<select id="searchCafe" resultType="Model.CafeVO">
		select * from cafe_info
		where store like '%'||#{store}||'%'
	</select>

</mapper>